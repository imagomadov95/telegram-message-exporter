# Telegram Message Exporter

Приложение для экспорта сообщений из закрытых групп Telegram с использованием MTProto API.

## Предварительные требования

1. **API ID и API Hash от Telegram:**
   - Перейдите на https://my.telegram.org/apps
   - Войдите в систему с вашим номером телефона
   - Создайте новое приложение
   - Сохраните API ID и API Hash

2. **Node.js версии 14 или выше**

## Установка

1. Клонируйте проект:
```bash
git clone <URL_РЕПОЗИТОРИЯ>
cd telegram-message-exporter
```

2. Установите зависимости:
```bash
npm install
```

3. Настройте конфигурацию:
```bash
cp config.example.json config.json
```

4. Отредактируйте `config.json` и добавьте ваши API данные:
```json
{
  "telegram": {
    "apiId": "YOUR_API_ID_HERE",
    "apiHash": "YOUR_API_HASH_HERE"
  }
}
```

## Использование

1. Запустите приложение:
```bash
npm run message
```
или
```bash
node index.js
```

2. Введите запрашиваемые данные:
   - Session string (оставьте пустым при первом запуске)
   - Номер телефона
   - Код подтверждения из Telegram
   - Пароль двухфакторной аутентификации (если включен)

3. Выберите группу из списка доступных групп и каналов

4. Укажите количество сообщений для экспорта (по умолчанию 1000)

5. Выберите формат экспорта (JSON или CSV)

## Форматы экспорта

### JSON
Экспортирует сообщения в формате JSON со следующими полями:
- `id` - ID сообщения
- `date` - Дата и время сообщения
- `sender` - Информация об отправителе (ID, имя, фамилия, username)
- `text` - Текст сообщения
- `isForwarded` - Является ли сообщение пересланным
- `hasMedia` - Содержит ли сообщение медиафайлы
- `mediaType` - Тип медиафайла

### CSV
Экспортирует сообщения в формате CSV с колонками:
ID, Date, Sender, Username, Text, IsForwarded, HasMedia, MediaType

## Безопасность

- Session string сохраняется для повторного использования (избегает повторной аутентификации)
- Никогда не делитесь вашими API ID, API Hash и session string
- Приложение работает только для групп, в которых вы состоите

## Ограничения

- Можно экспортировать сообщения только из групп, где вы состоите
- Скорость экспорта ограничена API лимитами Telegram
- Медиафайлы не скачиваются, только сохраняется информация об их наличии

## Примечания

При первом запуске приложение покажет session string - сохраните его для будущих запусков, чтобы избежать повторной аутентификации.